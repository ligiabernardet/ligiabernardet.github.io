
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>4. Constructing Suites &#8212; CCPP Technical  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Autogenerated Physics Caps" href="AutoGenPhysCaps.html" />
    <link rel="prev" title="3. CCPP Configuration and Build Options" href="ConfigBuildOptions.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="AutoGenPhysCaps.html" title="5. Autogenerated Physics Caps"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ConfigBuildOptions.html" title="3. CCPP Configuration and Build Options"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPP Technical  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="constructing-suites">
<span id="constructingsuite"></span><h1>4. Constructing Suites<a class="headerlink" href="#constructing-suites" title="Permalink to this headline">¶</a></h1>
<div class="section" id="suite-definition-file">
<h2>4.1. Suite Definition File<a class="headerlink" href="#suite-definition-file" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> is a file in XML format used to specify the name of the suite, the physics schemes to run, groups of physics that run together, the order in which to run the physics, and whether subcycling will be used to run any of the parameterizations with shorter timesteps. The <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> files are located in <code class="docutils literal notranslate"><span class="pre">ccpp/suites/suite_*.xml</span></code>.</p>
<p>In addition to the primary parameterization categories (such as radiation, boundary layer, deep convection, resolved moist physics, etc.), the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> can have an arbitrary number of interstitial schemes in between the parameterizations to preprocess or postprocess data. In many models, this interstitial code is not obvious to the model user but, with the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a>, both the primary parameterizations and the interstitial schemes are listed explicitly.</p>
<p>The name of the suite is listed at the top of the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> and must be consistent with the name of the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a>: file <code class="docutils literal notranslate"><span class="pre">suite_ABC.xml</span></code> contains <code class="docutils literal notranslate"><span class="pre">suite</span> <span class="pre">name=’ABC’</span></code>, as in the example below. The suite name is followed by the <code class="docutils literal notranslate"><span class="pre">time_vary</span></code> step, which is run only once when the model is first initialized.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;suite</span> <span class="na">name=</span><span class="s">&quot;ABC&quot;</span> <span class="na">lib=</span><span class="s">&quot;ccppphys&quot;</span> <span class="na">ver=</span><span class="s">&quot;3.0.0&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- &lt;init&gt;&lt;/init&gt; --&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;time_vary&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_time_vary_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rrtmg_setup<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rad_time_vary<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_phys_time_vary<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
</pre></div>
</div>
<div class="section" id="groups">
<h3>4.1.1. Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h3>
<p>The concept of grouping physics in the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> (reflected in the <code class="docutils literal notranslate"><span class="pre">&lt;group</span> <span class="pre">name=&quot;XYZ&quot;&gt;</span></code> elements) enables “groups” of parameterizations to be called with other computation (such as related to the dycore, I/O, etc.) in between. One can edit the groups to suit the needs of the host application. For example, if a subset of physics schemes needs to be more tightly connected with the dynamics and called more frequently, one could create a group consisting of that subset and place a <code class="docutils literal notranslate"><span class="pre">ccpp_run</span></code> call in the appropriate place in the host application. The remainder of the parameterization groups could be called using <code class="docutils literal notranslate"><span class="pre">ccpp_run</span></code> calls in a different part of the host application code.</p>
</div>
<div class="section" id="subcycling">
<h3>4.1.2. Subcycling<a class="headerlink" href="#subcycling" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> allows subcycling of schemes, or calling a subset of schemes at a smaller time step than others. The <code class="docutils literal notranslate"><span class="pre">&lt;subcycle</span> <span class="pre">loop</span> <span class="pre">=</span> <span class="pre">n&gt;</span></code> element in the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> controls this function. All schemes within such an element are called n times during one ccpp_run call. An example of this is found in the <code class="docutils literal notranslate"><span class="pre">FV3_GFS_v15.xml</span></code> <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a>, where the surface schemes are executed twice for each timestep (implementing a predictor/corrector paradigm):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Surface iteration loop --&gt;</span>
<span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>sfc_diff<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>GFS_surface_loop_control_part1<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>sfc_nst_pre<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>sfc_nst<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>sfc_nst_post<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>lsm_noah<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>sfc_sice<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;scheme&gt;</span>GFS_surface_loop_control_part2<span class="nt">&lt;/scheme&gt;</span>
<span class="nt">&lt;/subcycle&gt;</span>
</pre></div>
</div>
<p>Note that currently no time step information is included in the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> and that the subcycling of schemes resembles more an iteration over schemes with the loop counter being available as integer variable with standard name ccpp_loop_counter. If subcycling is used for a set of parameterizations, the smaller time step must be an input argument for those schemes.</p>
</div>
<div class="section" id="order-of-schemes">
<h3>4.1.3. Order of Schemes<a class="headerlink" href="#order-of-schemes" title="Permalink to this headline">¶</a></h3>
<p>Schemes may be interdependent and the order in which the schemes are run may make a difference in the model output. For the static build, reading the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a>(s) and defining the order of schemes for each suite happens at compile time. For the dynamic build, no <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> is used at compile time (<a class="reference internal" href="#ccpp-sdf-dynamic-static"><span class="std std-numref">Figure 4.1</span></a>). Instead, at runtime the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> is read and the order of schemes is determined.</p>
<p>Some schemes require additional interstitial code that must be run before or after the scheme and cannot be part of the scheme itself. This can be due to dependencies on other schemes and/or the order of the schemes as determined in the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a>.</p>
<div class="figure align-center" id="id1">
<span id="ccpp-sdf-dynamic-static"></span><a class="reference internal image-reference" href="_images/ccpp_sdf_dynamic_static.png"><img alt="map to buried treasure" src="_images/ccpp_sdf_dynamic_static.png" style="width: 525.0px; height: 322.2px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.1 </span><span class="caption-text"><em>Schematic of the use of the SDF in dynamic and static builds. Note that, for the static build, more than one SDF can be supplied at compile time, but only one can be used at runtime</em>.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="interstitial-schemes">
<h2>4.2. Interstitial Schemes<a class="headerlink" href="#interstitial-schemes" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> can have an arbitrary number of additional interstitial schemes in between the primary parameterizations to preprocess or postprocess data. There are two main types of interstitial schemes, scheme-specific and suite-level. The scheme-specific interstitial scheme is needed for one specific scheme and the suite-leve interstitial scheme processes data that are relevant for various schemes within a suite.</p>
</div>
<div class="section" id="sdf-examples">
<h2>4.3. SDF Examples<a class="headerlink" href="#sdf-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simplest-case-single-group-and-no-subcycling">
<h3>4.3.1. Simplest Case: Single Group and no Subcycling<a class="headerlink" href="#simplest-case-single-group-and-no-subcycling" title="Permalink to this headline">¶</a></h3>
<p>Consider the simplest case, in which all physics schemes are to be called together in a single group with no subcycling (i.e. <code class="docutils literal notranslate"><span class="pre">subcycle</span> <span class="pre">loop=”1”</span></code>).  The subcycle loop must be set in each group.  The <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> <code class="docutils literal notranslate"><span class="pre">suite_Suite_A.xml</span></code> could contain the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="go">&lt;suite name=&quot;Suite_A&quot; lib=&quot;ccppphys&quot; ver=&quot;3.0.0&quot;&gt;</span>
<span class="go">  ...</span>
<span class="go">  &lt;group name=&quot;physics&quot;&gt;</span>
<span class="go">    &lt;subcycle loop=&quot;1&quot;&gt;</span>
<span class="go">      &lt;scheme&gt;Suite_A_interstitial_1&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_1_pre&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_1&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_1_post&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_2_generic_pre&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_2&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_2_generic_post&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;Suite_A_interstitial_2&lt;/scheme&gt;</span>
<span class="go">      &lt;scheme&gt;scheme_3&lt;/scheme&gt;</span>
<span class="go">      ...</span>
<span class="go">      &lt;scheme_n&lt;/scheme&gt;</span>
<span class="go">    &lt;/subcycle&gt;</span>
<span class="go">  &lt;/group&gt;</span>
<span class="go">&lt;/suite&gt;</span>
</pre></div>
</div>
<p>Note the syntax of the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> file. The root (the first element to appear in the xml file) is the <code class="docutils literal notranslate"><span class="pre">suite</span></code> with the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the suite given as an attribute. In this example, the suite name is <code class="docutils literal notranslate"><span class="pre">Suite_A</span></code>. Within each suite are groups, which specify a physics group to call (i.e. <code class="docutils literal notranslate"><span class="pre">physics,</span> <span class="pre">fast_physics,</span> <span class="pre">time_vary,</span> <span class="pre">radiation,</span> <span class="pre">stochastics</span></code>). Each group has an option to subcycle. The value given for loop determines the number of times all of the schemes within the <code class="docutils literal notranslate"><span class="pre">subcycle</span></code> element are called. Finally, the <code class="docutils literal notranslate"><span class="pre">scheme</span></code> elements are children of the <code class="docutils literal notranslate"><span class="pre">subcycle</span></code> elements and are listed in the order they will be executed. In this example, <code class="docutils literal notranslate"><span class="pre">scheme_1_pre</span></code> and <code class="docutils literal notranslate"><span class="pre">scheme_1_post</span></code> are scheme-specific preprocessing and postprocessing interstitial schemes, respectively. The suite-level preprocessing and postprocessing interstitial <code class="docutils literal notranslate"><span class="pre">schemes</span> <span class="pre">scheme_2_generic_pre</span></code> and <code class="docutils literal notranslate"><span class="pre">scheme_2_generic_post</span></code> are also called in this example. <code class="docutils literal notranslate"><span class="pre">Suite_A_interstitial_2</span></code> is a scheme for <code class="docutils literal notranslate"><span class="pre">suite_A</span></code> and connects various schemes within this suite.</p>
</div>
<div class="section" id="case-with-multiple-groups">
<h3>4.3.2. Case with Multiple Groups<a class="headerlink" href="#case-with-multiple-groups" title="Permalink to this headline">¶</a></h3>
<p>Some models require that the physics be called in groups, with non-physics computations in-between the groups.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;suite</span> <span class="na">name=</span><span class="s">&quot;Suite_B&quot;</span> <span class="na">lib=</span><span class="s">&quot;ccppphys&quot;</span> <span class="na">ver=</span><span class="s">&quot;3.0.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;g1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeX<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeY<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeZ<span class="nt">&lt;/scheme&gt;</span>
  <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;g2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeA<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeB<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>SchemeC<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/suite&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="case-with-subcycling">
<h3>4.3.3. Case with Subcycling<a class="headerlink" href="#case-with-subcycling" title="Permalink to this headline">¶</a></h3>
<p>Consider the case where a model requires that some subset of physics be called on a smaller time step than the rest of the physics, e.g. for computational stability. In this case, one would make use of the subcycle element as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;suite</span> <span class="na">name=</span><span class="s">&quot;Suite_C&quot;</span> <span class="na">lib=</span><span class="s">&quot;ccppphys&quot;</span> <span class="na">ver=</span><span class="s">&quot;3.0.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;g1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>scheme_1<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>scheme_2<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- block of schemes 3 and 4 is called twice --&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>scheme_3<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>scheme_4<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/suite&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="operational-gfs-v15-suite">
<h3>4.3.4. Operational GFS v15 Suite<a class="headerlink" href="#operational-gfs-v15-suite" title="Permalink to this headline">¶</a></h3>
<p>Here is the <a class="reference internal" href="Glossary.html#term-sdf"><span class="xref std std-term">SDF</span></a> for the physics suite equivalent to the operational GFS v15 in the <a class="reference internal" href="Glossary.html#term-ufs"><span class="xref std std-term">UFS</span></a> Atmosphere, which employs various groups and subcycling:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="nt">&lt;suite</span> <span class="na">name=</span><span class="s">&quot;FV3_GFS_v15&quot;</span> <span class="na">lib=</span><span class="s">&quot;ccppphys&quot;</span> <span class="na">ver=</span><span class="s">&quot;3.0.0&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- &lt;init&gt;&lt;/init&gt; --&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;fast_physics&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>fv_sat_adj<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;time_vary&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_time_vary_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rrtmg_setup<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rad_time_vary<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_phys_time_vary<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>stochastic_physics<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>stochastic_physics_sfc<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;radiation&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_rad_reset<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rrtmg_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_sw_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_sw<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_sw_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_lw_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_lw<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rrtmg_lw_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_rrtmg_post<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;physics&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_phys_reset<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_stateout_reset<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>get_prs_fv3<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_1<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>dcyc2t3<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_generic_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_composites_pre
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_2<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
    <span class="c">&lt;!-- Surface iteration loop --&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_diff<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_loop_control_part1<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_nst_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_nst<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_nst_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>lsm_noah<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_sice<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_loop_control_part2<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
    <span class="c">&lt;!-- End of surface iteration loop --&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_composites_post
      <span class="nt">&lt;scheme&gt;</span>dcyc2t3_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_diag<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>sfc_diag_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_surface_generic_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_PBL_generic_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>hedmf<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_PBL_generic_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdps_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdps<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdps_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>rayleigh_damp<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_stateout_update<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>ozphys_2015<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>h2ophys<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_DCNV_generic_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>get_phi_fv3<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_3<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>samfdeepcnv<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_DCNV_generic_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdc_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdc<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gwdc_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_SCNV_generic_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>samfshalcnv<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>samfshalcnv_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_SCNV_generic_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_suite_interstitial_4<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>cnvc90<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_MP_generic_pre<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>gfdl_cloud_microphys<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_MP_generic_post<span class="nt">&lt;/scheme&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>maximum_hourly_diagnostics<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">name=</span><span class="s">&quot;stochastics&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;subcycle</span> <span class="na">loop=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;scheme&gt;</span>GFS_stochastics<span class="nt">&lt;/scheme&gt;</span>
    <span class="nt">&lt;/subcycle&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="c">&lt;!-- &lt;finalize&gt;&lt;/finalize&gt; --&gt;</span>
<span class="nt">&lt;/suite&gt;</span>
</pre></div>
</div>
<p>The suite name is <code class="docutils literal notranslate"><span class="pre">FV3_GFS_v15</span></code>. Five groups (<code class="docutils literal notranslate"><span class="pre">fast_physics,</span> <span class="pre">time_vary,</span> <span class="pre">radiation,</span> <span class="pre">physics,</span> <span class="pre">and</span> <span class="pre">stochastics</span></code>) are used, because the physics needs to be called in different parts of the host model. The detailed explanation of each primary physics scheme can be found in scientific documentation. A short explanation of each scheme is below.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fv_sat_adj</span></code>: Saturation adjustment (for the UFS Atmosphere only)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_time_vary_pre</span></code>: GFS physics suite time setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_rrtmg_setup</span></code>: Rapid Radiative Transfer Model for Global Circulation Models (RRTMG) setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_rad_time_vary</span></code>: GFS radiation time setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_phys_time_vary</span></code>: GFS physics suite time setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stochastic_physics</span></code>: Stochastic physics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stochastic_physics_sfc</span></code>: Surface part of stochastic physics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_rad_reset</span></code>: GFS suite interstitial radiation reset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_rrtmg_pre</span></code>: Preprocessor for the GFS radiation schemes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_sw_pre</span></code>: Preprocessor for the RRTMG shortwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_sw</span></code>: RRTMG for shortwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_sw_post</span></code>: Postprocessor for the RRTMG shortwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_lw_pre</span></code>: Preprocessor for the RRTMG longwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_lw</span></code>: RRTMG for longwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rrtmg_lw_post</span></code>: Postprocessor for the RRTMG longwave radiation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_rrtmg_post</span></code>: Postprocessor for the GFS radiation schemes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_phys_reset</span></code>: GFS suite interstitial physics reset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_stateout_reset</span></code>: GFS suite stateout reset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_prs_fv3</span></code>: Adjustment of the geopotential height hydrostatically in a way consistent with FV3 discretization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_1</span></code>: GFS suite interstitial 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dcyc2t3</span></code>: Mapping of the radiative fluxes and heating rates from the coarser radiation timestep onto the model’s more frequent time steps</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_generic_pre</span></code>: Preprocessor for the surface schemes (land, sea ice)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_composites_pre</span></code>: Preprocessor for surafce composites</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_2</span></code>: GFS suite interstitial 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_diff</span></code>: Calculation of the exchange coefficients in the GFS surface layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_loop_control_part1</span></code>: GFS surface loop control part 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_nst_pre</span></code>: Preprocessor for the near-surface sea temperature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_nst</span></code>: GFS Near-surface sea temperature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_nst_post</span></code>: Postprocessor for the near-surface temperature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lsm_noah</span></code>: Noah land surface scheme driver</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_sice</span></code>: Simple sea ice scheme</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_loop_control_part2</span></code>: GFS surface loop control part 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_composites_post</span></code>: Postprocess for surface composites</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dcyc2t3_post</span></code>: Postprocessor for the mapping of the radiative fluxes and heating rates from the coarser radiation timestep onto the model’s more frequent time steps</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_diag</span></code>: Land surface diagnostic calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sfc_diag_post</span></code>: Postprocessor for the land surface diagnostic calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_surface_generic_post</span></code>: Postprocessor for the GFS surface process</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_PBL_generic_pre</span></code>: Preprocessor for all Planetary Boundary Layer (PBL) schemes (except MYNN)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hedmf</span></code>: Hybrid eddy-diffusivity mass-flux PBL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_PBL_generic_post</span></code>: Postprocessor for all PBL schemes (except MYNN)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwdps_pre</span></code>: Preprocessor for the orographic gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwdps</span></code>: Orographic gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Gwdps_post</span></code>: Postprocessor for the orographic gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rayleigh_damp</span></code>: Rayleigh damping</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_stateout_update</span></code>: GFS suite stateout update</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ozphys</span></code>: Ozone photochemistry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_DCNV_generic_pre</span></code>: Preprocessor for the GFS deep convective schemes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_phi_fv3</span></code>: Hydrostatic adjustment to the height in a way consistent with FV3 discretization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_3</span></code>: GFS suite interstitial 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samfdeepcnv</span></code>: Simplified Arakawa Schubert (SAS) Mass Flux deep convection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_DCNV_generic_post</span></code>: Postprocessor for all deep convective schemes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwdc_pre</span></code>:Preprocessor for the convective gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwdc</span></code>: Convective gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwdc_post</span></code>: Postprocessor for the convective gravity wave drag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_SCNV_generic_pre</span></code>: Preprocessor for the GFS shallow convective schemes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samfshalcnv</span></code>: SAS mass flux shallow convection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samfshalcnv_post</span></code>: Postprocessor for the SAS Mass Flux shallow convection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_SCNV_generic_post</span></code>: Postprocessor for the GFS shallow convective scheme</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_suite_interstitial_4</span></code>: GFS suite interstitial 4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cnvc90</span></code>: Convective cloud cover</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_MP_generic_pre</span></code>: Preprocessor for all GFS microphysics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gfdl_cloud_microphys</span></code>: GFDL cloud microphysics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_MP_generic_post</span></code>: Postprocessor for GFS microphysics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Maximum_hourly_diagnostics</span></code>: Computation of the maximum of the selected diagnostics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GFS_stochastics</span></code>: GFS stochastics scheme: Stochastic Kinetic Energy Backscatter (SKEB), Perturbed boundary layer specific humidity (SHUM), or Stochastically Perturbed Physics Tendencies (SPPT)</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Constructing Suites</a><ul>
<li><a class="reference internal" href="#suite-definition-file">4.1. Suite Definition File</a><ul>
<li><a class="reference internal" href="#groups">4.1.1. Groups</a></li>
<li><a class="reference internal" href="#subcycling">4.1.2. Subcycling</a></li>
<li><a class="reference internal" href="#order-of-schemes">4.1.3. Order of Schemes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interstitial-schemes">4.2. Interstitial Schemes</a></li>
<li><a class="reference internal" href="#sdf-examples">4.3. SDF Examples</a><ul>
<li><a class="reference internal" href="#simplest-case-single-group-and-no-subcycling">4.3.1. Simplest Case: Single Group and no Subcycling</a></li>
<li><a class="reference internal" href="#case-with-multiple-groups">4.3.2. Case with Multiple Groups</a></li>
<li><a class="reference internal" href="#case-with-subcycling">4.3.3. Case with Subcycling</a></li>
<li><a class="reference internal" href="#operational-gfs-v15-suite">4.3.4. Operational GFS v15 Suite</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ConfigBuildOptions.html"
                        title="previous chapter">3. CCPP Configuration and Build Options</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="AutoGenPhysCaps.html"
                        title="next chapter">5. Autogenerated Physics <em>Caps</em></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ConstructingSuite.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="AutoGenPhysCaps.html" title="5. Autogenerated Physics Caps"
             >next</a> |</li>
        <li class="right" >
          <a href="ConfigBuildOptions.html" title="3. CCPP Configuration and Build Options"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPP Technical  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>