
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>2. CCPP-Compliant Physics Parameterizations &#8212; CCPP Technical  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. CCPP Configuration and Build Options" href="ConfigBuildOptions.html" />
    <link rel="prev" title="1. CCPP Overview" href="Overview.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ConfigBuildOptions.html" title="3. CCPP Configuration and Build Options"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Overview.html" title="1. CCPP Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPP Technical  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ccpp-compliant-physics-parameterizations">
<span id="compliantphysparams"></span><h1>2. CCPP-Compliant Physics Parameterizations<a class="headerlink" href="#ccpp-compliant-physics-parameterizations" title="Permalink to this headline">¶</a></h1>
<p>The rules for a scheme to be considered CCPP-compliant are summarized in this section. It
should be noted that making a scheme CCPP-compliant is a necessary but not guaranteed step
for the acceptance of the scheme in the pool of supported CCPP-Physics. Acceptance is
dependent on scientific innovation, demonstrated value, and compliance with the rules
described below. The criteria for acceptance of a scheme into the CCPP is under development.</p>
<p>It is recommended that parameterizations be comprised of the smallest units that will be used.
For example, if a given set of deep and shallow convection schemes will always be called together
and in a pre-established order, it is acceptable to group them within a single scheme. However, if one
envisions that the deep and shallow convection schemes may someday operate independently, it is
recommended to code two separate schemes to allow more flexibility.</p>
<p>Some schemes in the CCPP have been implemented using a driver as an entry point. In this context,
a driver is defined as a wrapper that sits on top of the actual scheme and provides the CCPP entry
points. In order to minimize the layers of code in the CCPP, the implementation of a driver is
discouraged, that is, it is preferable that the CCPP be composed of atomic parameterizations. One
example is the implementation of the MG microphysics, in which a simple entry point
leads to two versions of the scheme, MG2 and MG3.  A cleaner implementation would be to retire MG2
in favor of MG3, to put MG2 and MG3 as separate schemes, or to create a single scheme that can behave
as MG2 nd MG3 depending on namelist options.</p>
<p>The implementation of a driver is reasonable under the following circumstances:</p>
<ul class="simple">
<li><p>To preserve schemes that are also distributed outside of the CCPP. For example, the Thompson
microphysics scheme is distributed both with the Weather Research and Forecasting (WRF) model
and with the CCPP. Having a driver with CCPP directives allows the Thompson scheme to remain
intact so that it can be synchronized between the WRF model and the CCPP distributions. See
more in <code class="docutils literal notranslate"><span class="pre">mp_thompson_hrrr.F90</span></code> in the <code class="docutils literal notranslate"><span class="pre">ccpp-physics/physics</span></code> directory.</p></li>
<li><p>To deal with optional arguments. A driver can check whether optional arguments have been
provided by the host model to either write out a message and return an error code or call a
subroutine with or without optional arguments. For example, see <code class="docutils literal notranslate"><span class="pre">mp_thompson_hrrr.F90</span></code>,
<code class="docutils literal notranslate"><span class="pre">radsw_main.f</span></code>, or <code class="docutils literal notranslate"><span class="pre">radlw_main.f</span></code> in the <code class="docutils literal notranslate"><span class="pre">ccpp-physics/physics</span></code> directory.</p></li>
<li><p>To perform unit conversions or array transformations, such as flipping the vertical direction
and rearranging the index order, for example, <code class="docutils literal notranslate"><span class="pre">cu_gf_driver.F90</span></code> in the <code class="docutils literal notranslate"><span class="pre">ccpp-physics/physics</span></code>
directory.</p></li>
</ul>
<p>Schemes in the CCPP are classified into two categories: primary schemes and interstitial schemes.
Primary schemes are the major parameterizations, such as PBL, microphysics, convection, radiation,
surface layer parameterizations, etc. Interstitial schemes are modularized pieces of code that
perform data preparation, diagnostics, or other “glue” functions and allow primary schemes to work
together as a suite. They can be categorized as “scheme-specific” or “suite-level”. Scheme-specific
interstitial schemes augment a specific primary scheme (to provide additional functionality).
Suite-level interstitial schemes provide additional functionality on top of a class of primary schemes,
connect two or more schemes together, or provide code for conversions, initializing sums, or applying
tendencies, for example. The rules and guidelines provided in the following sections apply both to
primary and interstitial schemes.</p>
<div class="section" id="general-rules">
<span id="generalrules"></span><h2>2.1. General Rules<a class="headerlink" href="#general-rules" title="Permalink to this headline">¶</a></h2>
<p>A CCPP-compliant scheme is in the form of Fortran modules. <a class="reference internal" href="#scheme-template"><span class="std std-ref">Listing 2.1</span></a> contains
the template for a CCPP-compliant scheme (<code class="docutils literal notranslate"><span class="pre">ccpp/framework/doc/DevelopersGuide/scheme_template.F90</span></code>),
which includes three essential components: the <em>_init</em>, <em>_run</em>, and <em>_finalize</em> subroutines. Each <code class="docutils literal notranslate"><span class="pre">.f</span></code> or <code class="docutils literal notranslate"><span class="pre">.F90</span></code>
file that contains an entry point(s) for CCPP scheme(s) must be accompanied by a .meta file in the same directory
as described in <a class="reference internal" href="#metadatarules"><span class="std std-numref">Section 2.2</span></a></p>
<div class="highlight-fortran notranslate" id="scheme-template"><div class="highlight"><pre><span></span>    <span class="k">module </span><span class="n">scheme_template</span>

      <span class="k">contains</span>

<span class="k">      subroutine </span><span class="n">scheme_template_init</span> <span class="p">()</span>
      <span class="k">end subroutine </span><span class="n">scheme_template_init</span>

      <span class="k">subroutine </span><span class="n">scheme_template_finalize</span><span class="p">()</span>
      <span class="k">end subroutine </span><span class="n">scheme_template_finalize</span>

<span class="c">!&gt; \section arg_table_scheme_template_run Argument Table</span>
<span class="c">!! \htmlinclude scheme_template_run.html</span>
<span class="c">!!</span>
      <span class="k">subroutine </span><span class="n">scheme_template_run</span> <span class="p">(</span><span class="n">errmsg</span><span class="p">,</span> <span class="n">errflg</span><span class="p">)</span>

         <span class="k">implicit none</span>

         <span class="c">!--- arguments</span>
         <span class="c">! add your arguments here</span>
         <span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span> <span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>   <span class="kd">::</span> <span class="n">errmsg</span>
         <span class="kt">integer</span><span class="p">,</span>          <span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>   <span class="kd">::</span> <span class="n">errflg</span>

         <span class="c">!--- local variables</span>
         <span class="c">! add your local variables here</span>

         <span class="k">continue</span>

         <span class="c">!--- initialize CCPP error handling variables</span>
         <span class="n">errmsg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
         <span class="n">errflg</span> <span class="o">=</span> <span class="mi">0</span>

         <span class="c">!--- initialize intent(out) variables</span>
         <span class="c">! initialize all intent(out) variables here</span>

         <span class="c">!--- actual code</span>
         <span class="c">! add your code here</span>

         <span class="c">! in case of errors, set errflg to a value != 0,</span>
         <span class="c">! assign a meaningful message to errmsg and return</span>

         <span class="k">return</span>

<span class="k">      end subroutine </span><span class="n">scheme_template_run</span>

    <span class="k">end module </span><span class="n">scheme_template</span>
</pre></div>
</div>
<p><em>Listing 2.1: Fortran template for a CCPP-compliant scheme showing the _init, _run, and _finalize subroutines.</em></p>
<p>More details are found below:</p>
<ul class="simple">
<li><p>Each scheme must be in its own module and must include three (<em>_init</em>, <em>_run</em>, and <em>_finalize</em>)
subroutines (entry points). The module name and the subroutine names must be consistent with the
scheme name. The <em>_init</em> and <em>_finalize</em> subroutines are run automatically when the CCPP-Physics
are initialized and finalized, respectively. These two subroutines may be called more than once,
depending on the host model’s parallelization strategy, and as such must be idempotent (the answer
must be the same when the subroutine is called multiple times). The _run subroutine contains the
code to execute the scheme.</p></li>
<li><p>Each <code class="docutils literal notranslate"><span class="pre">.f</span></code> or <code class="docutils literal notranslate"><span class="pre">.F90</span></code> file with one or more CCPP entry point schemes must be accompanied by a a <code class="docutils literal notranslate"><span class="pre">.meta</span></code> file containing
metadata about the arguments to the scheme(s). For more information, see <a class="reference internal" href="#metadatarules"><span class="std std-numref">Section 2.2</span></a>.</p></li>
<li><p>Non-empty schemes must be preceded by the three lines below. These are markup comments used by Doxygen,
the software employed to create the scientific documentation, to insert an external file containing metadata
information (in this case, <code class="docutils literal notranslate"><span class="pre">schemename_run.html</span></code>) in the documentation. See more on this topic in
<a class="reference internal" href="#scidoc"><span class="std std-numref">Section 2.6</span></a>.</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!&gt; \section arg_table_schemename_run Argument Table</span>
<span class="c">!! \htmlinclude schemename_run.html</span>
<span class="c">!!</span>
</pre></div>
</div>
<ul class="simple">
<li><p>All external information required by the scheme must be passed in via the argument list. Statements
such as  <code class="docutils literal notranslate"><span class="pre">‘use</span> <span class="pre">EXTERNAL_MODULE’</span></code> should not be used for passing in data and all physical constants
should go through the argument list.</p></li>
<li><p>Note that standard names, variable names, module names, scheme names and subroutine names are all case sensitive.</p></li>
<li><p>Interstitial modules (<code class="docutils literal notranslate"><span class="pre">scheme_pre</span></code> and <code class="docutils literal notranslate"><span class="pre">scheme_post</span></code>) can be included if any part of the physics
scheme must be executed before (<code class="docutils literal notranslate"><span class="pre">_pre</span></code>) or after (<code class="docutils literal notranslate"><span class="pre">_post</span></code>) the <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">scheme</span></code> defined above.</p></li>
</ul>
</div>
<div class="section" id="metadata-rules">
<span id="metadatarules"></span><span id="iovariablerules"></span><h2>2.2. Metadata Rules<a class="headerlink" href="#metadata-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Metadata files (<code class="docutils literal notranslate"><span class="pre">.meta</span></code>) are in a relaxed config file format and contain metadata for one or more CCPP entry point schemes.
There should be one .meta file for each <code class="docutils literal notranslate"><span class="pre">.f</span></code> or .``F90`` file.</p></li>
<li><p>For each CCPP compliant scheme, the <code class="docutils literal notranslate"><span class="pre">.meta</span></code> file should have this set of lines</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ccpp</span><span class="o">-</span><span class="n">arg</span><span class="o">-</span><span class="n">table</span><span class="p">]</span>
 <span class="n">name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
 <span class="k">type</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">type</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ccpp-arg-table</span></code> indicates the start of a new metadata section for a given scheme.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is name of the corresponding subroutine/module.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span></code> can be <code class="docutils literal notranslate"><span class="pre">scheme</span></code>, <code class="docutils literal notranslate"><span class="pre">module</span></code>, <code class="docutils literal notranslate"><span class="pre">DDT</span></code>, or <code class="docutils literal notranslate"><span class="pre">host</span></code>.</p></li>
<li><p>For empty schemes, the three lines above are sufficient. For non-empty schemes, the metadata should
describe all input and output arguments to the scheme using the following format:</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">varname</span><span class="p">]</span>
 <span class="n">standard_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">standard_name</span><span class="o">&gt;</span>
 <span class="n">long_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">long_name</span><span class="o">&gt;</span>
 <span class="n">units</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">units</span><span class="o">&gt;</span>
 <span class="n">rank</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">rank</span><span class="o">&gt;</span>
 <span class="n">dimensions</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">dimensions</span><span class="o">&gt;</span>
 <span class="k">type</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">type</span><span class="o">&gt;</span>
 <span class="nb">kind</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">kind</span><span class="o">&gt;</span>
 <span class="k">intent</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">intent</span><span class="o">&gt;</span>
 <span class="k">optional</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">optional</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">intent</span></code> argument is only valid in <code class="docutils literal notranslate"><span class="pre">scheme</span></code> metadata tables, as it is not applicable to the other <code class="docutils literal notranslate"><span class="pre">types</span></code>.</p></li>
<li><p>The following attributes are optional: <code class="docutils literal notranslate"><span class="pre">long_name</span></code>, <code class="docutils literal notranslate"><span class="pre">kind</span></code>, and <code class="docutils literal notranslate"><span class="pre">optional</span></code>.</p></li>
<li><p>Lines can be combined using | as a separator, e.g.,</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span>type = real | kind = kind_phys
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[varname]</span></code> is the local name of the variable in the subroutine.</p></li>
<li><p>The dimensions attribute should be empty parentheses for scalars or contain the <code class="docutils literal notranslate"><span class="pre">standard_name</span></code> for the start and end for
each dimension of an array. <code class="docutils literal notranslate"><span class="pre">ccpp_constant_one</span></code> is the assumed start for any dimension which only has a single value.
For example:</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">dimensions</span> <span class="o">=</span> <span class="p">()</span>
<span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">ccpp_constant_one</span><span class="p">:</span><span class="n">horizontal_loop_extent</span><span class="p">,</span> <span class="n">vertical_level_dimension</span><span class="p">)</span>
<span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizontal_dimension</span><span class="p">,</span><span class="n">vertical_dimension</span><span class="p">)</span>
<span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizontal_dimension</span><span class="p">,</span><span class="n">vertical_dimension_of_ozone_forcing_data</span><span class="p">,</span><span class="n">number_of_coefficients_in_ozone_forcing_data</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="#meta-template"><span class="std std-ref">Listing 2.2</span></a> contains the template for a CCPP-compliant scheme
(<code class="docutils literal notranslate"><span class="pre">ccpp/framework/doc/DevelopersGuide/scheme_template.meta</span></code>),</p></li>
</ul>
<div class="highlight-fortran notranslate" id="meta-template"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ccpp</span><span class="o">-</span><span class="n">arg</span><span class="o">-</span><span class="n">table</span><span class="p">]</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">ozphys_init</span>
  <span class="k">type</span> <span class="o">=</span> <span class="n">scheme</span>

<span class="cp">########################################################################</span>
<span class="p">[</span><span class="n">ccpp</span><span class="o">-</span><span class="n">arg</span><span class="o">-</span><span class="n">table</span><span class="p">]</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">ozphys_finalize</span>
  <span class="k">type</span> <span class="o">=</span> <span class="n">scheme</span>

<span class="cp">########################################################################</span>
<span class="p">[</span><span class="n">ccpp</span><span class="o">-</span><span class="n">arg</span><span class="o">-</span><span class="n">table</span><span class="p">]</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">ozphys_run</span>
  <span class="k">type</span> <span class="o">=</span> <span class="n">scheme</span>
<span class="p">[</span><span class="n">errmsg</span><span class="p">]</span>
  <span class="n">standard_name</span> <span class="o">=</span> <span class="n">ccpp_error_message</span>
  <span class="n">long_name</span> <span class="o">=</span> <span class="n">error</span> <span class="n">message</span> <span class="n">for</span> <span class="n">error</span> <span class="n">handling</span> <span class="n">in</span> <span class="n">CCPP</span>
  <span class="n">units</span> <span class="o">=</span> <span class="k">none</span>
<span class="k">  </span><span class="n">dimensions</span> <span class="o">=</span> <span class="p">()</span>
  <span class="k">type</span> <span class="o">=</span> <span class="kt">character</span>
<span class="kt">  </span><span class="nb">kind</span> <span class="o">=</span> <span class="nb">len</span><span class="o">=*</span>
  <span class="k">intent</span> <span class="o">=</span> <span class="n">out</span>
  <span class="k">optional</span> <span class="o">=</span> <span class="n">F</span>
<span class="p">[</span><span class="n">errflg</span><span class="p">]</span>
  <span class="n">standard_name</span> <span class="o">=</span> <span class="n">ccpp_error_flag</span>
  <span class="n">long_name</span> <span class="o">=</span> <span class="n">error</span> <span class="n">flag</span> <span class="n">for</span> <span class="n">error</span> <span class="n">handling</span> <span class="n">in</span> <span class="n">CCPP</span>
  <span class="n">units</span> <span class="o">=</span> <span class="n">flag</span>
  <span class="n">dimensions</span> <span class="o">=</span> <span class="p">()</span>
  <span class="k">type</span> <span class="o">=</span> <span class="kt">integer</span>
<span class="kt">  </span><span class="k">intent</span> <span class="o">=</span> <span class="n">out</span>
</pre></div>
</div>
<p><em>Listing 2.2: Fortran template for a metadata file accompanying a CCPP-compliant scheme.</em></p>
</div>
<div class="section" id="input-output-variable-argument-rules">
<h2>2.3. Input/output Variable (argument) Rules<a class="headerlink" href="#input-output-variable-argument-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Variables available for CCPP physics schemes are identified by their unique
<code class="docutils literal notranslate"><span class="pre">standard_name</span></code>. While an effort is made to comply with existing <code class="docutils literal notranslate"><span class="pre">standard_name</span></code>
definitions of the Climate and Forecast (CF) conventions (<a class="reference external" href="http://cfconventions.org">http://cfconventions.org</a>), additional names
are used in the CCPP (see below for further information).</p></li>
<li><p>A list of available standard names and an example of naming conventions can be found in
<code class="docutils literal notranslate"><span class="pre">ccpp/framework/doc/DevelopersGuide/CCPP_VARIABLES_${HOST}.pdf</span></code>, where <code class="docutils literal notranslate"><span class="pre">${HOST}</span></code> is the
name of the host model.  Running the CCPP <em>prebuild</em> script (described in <a class="reference internal" href="CCPPPreBuild.html#ccppprebuild"><span class="std std-numref">Chapter 8</span></a>)
will generate a LaTeX source file that can be compiled to produce
a PDF file with all variables defined by the host model and requested by the physics schemes.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">standard_name</span></code> cannot be assigned to more than one local variable (<code class="docutils literal notranslate"><span class="pre">local_name</span></code>).
The <code class="docutils literal notranslate"><span class="pre">local_name</span></code> of a variable can be chosen freely and does not have to match the
<code class="docutils literal notranslate"><span class="pre">local_name</span></code> in the host model.</p></li>
<li><p>All variable information (standard_name, units, dimensions) must match the specifications on
the host model side, but sub-slices can be used/added in the host model. For example, when
using the UFS Atmosphere as the host model, tendencies are split in <code class="docutils literal notranslate"><span class="pre">GFS_typedefs.meta</span></code>
so they can be used in the necessary physics scheme:</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">dt3dt</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)]</span>
  <span class="n">standard_name</span> <span class="o">=</span> <span class="n">cumulative_change_in_temperature_due_to_longwave_radiation</span>
  <span class="n">long_name</span> <span class="o">=</span> <span class="n">cumulative</span> <span class="n">change</span> <span class="n">in</span> <span class="n">temperature</span> <span class="n">due</span> <span class="n">to</span> <span class="n">longwave</span> <span class="n">radiation</span>
  <span class="n">units</span> <span class="o">=</span> <span class="n">K</span>
  <span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizontal_dimension</span><span class="p">,</span><span class="n">vertical_dimension</span><span class="p">)</span>
  <span class="k">type</span> <span class="o">=</span> <span class="kt">real</span>
<span class="kt">  </span><span class="nb">kind</span> <span class="o">=</span> <span class="n">kind_phys</span>
<span class="p">[</span><span class="n">dt3dt</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">)]</span>
  <span class="n">standard_name</span> <span class="o">=</span> <span class="n">cumulative_change_in_temperature_due_to_shortwave_radiation</span>
  <span class="n">long_name</span> <span class="o">=</span> <span class="n">cumulative</span> <span class="n">change</span> <span class="n">in</span> <span class="n">temperature</span> <span class="n">due</span> <span class="n">to</span> <span class="n">shortwave</span> <span class="n">radiation</span>
  <span class="n">units</span> <span class="o">=</span> <span class="n">K</span>
  <span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizontal_dimension</span><span class="p">,</span><span class="n">vertical_dimension</span><span class="p">)</span>
  <span class="k">type</span> <span class="o">=</span> <span class="kt">real</span>
<span class="kt">  </span><span class="nb">kind</span> <span class="o">=</span> <span class="n">kind_phys</span>
<span class="p">[</span><span class="n">dt3dt</span><span class="p">(:,:,</span><span class="mi">3</span><span class="p">)]</span>
  <span class="n">standard_name</span> <span class="o">=</span> <span class="n">cumulative_change_in_temperature_due_to_PBL</span>
  <span class="n">long_name</span> <span class="o">=</span> <span class="n">cumulative</span> <span class="n">change</span> <span class="n">in</span> <span class="n">temperature</span> <span class="n">due</span> <span class="n">to</span> <span class="n">PBL</span>
  <span class="n">units</span> <span class="o">=</span> <span class="n">K</span>
  <span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizontal_dimension</span><span class="p">,</span><span class="n">vertical_dimension</span><span class="p">)</span>
  <span class="k">type</span> <span class="o">=</span> <span class="kt">real</span>
<span class="kt">  </span><span class="nb">kind</span> <span class="o">=</span> <span class="n">kind_phys</span>
</pre></div>
</div>
<ul>
<li><p>The two mandatory variables that any scheme-related subroutine must accept as <code class="docutils literal notranslate"><span class="pre">intent(out)</span></code> arguments are
<code class="docutils literal notranslate"><span class="pre">errmsg</span></code> and <code class="docutils literal notranslate"><span class="pre">errflg</span></code> (see also coding rules in <a class="reference internal" href="#codingrules"><span class="std std-numref">Section 2.4</span></a>).</p></li>
<li><p>At present, only two types of variable definitions are supported by the CCPP-framework:</p>
<blockquote>
<div><ul class="simple">
<li><p>Standard Intrinsic Fortran variables are preferred (<code class="docutils literal notranslate"><span class="pre">character</span></code>, <code class="docutils literal notranslate"><span class="pre">integer</span></code>, <code class="docutils literal notranslate"><span class="pre">logical</span></code>, <code class="docutils literal notranslate"><span class="pre">real</span></code>).
For character variables, the length should be specified as <code class="docutils literal notranslate"><span class="pre">*</span></code> in order to allow the host model
to specify the corresponding variable with a length of its own choice. All others can have a
<code class="docutils literal notranslate"><span class="pre">kind</span></code> attribute of a <code class="docutils literal notranslate"><span class="pre">kind</span></code> type defined by the host model.</p></li>
<li><p>Derived data types (DDTs). While the use of DDTs is discouraged, some use cases may
justify their application (e.g. DDTs for chemistry that contain tracer arrays or information on
whether tracers are advected). It should be understood that use of DDTs within schemes
forces their use in host models and potentially limits a scheme’s portability. Where possible,
DDTs should be broken into components that could be usable for another scheme of the same type.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>It is preferable to have separate variables for physically-distinct quantities. For example,
an array containing various cloud properties should be split into its individual
physically-distinct components to facilitate generality. An exception to this rule is if
there is a need to perform the same operation on an array of otherwise physically-distinct
variables. For example, tracers that undergo vertical diffusion can be combined into one array
where necessary. This tactic should be avoided wherever possible, and is not acceptable merely
as a convenience.</p></li>
<li><p>If a scheme is to make use of CCPP’s subcycling capability, the loop counter can be obtained
from CCPP as an <code class="docutils literal notranslate"><span class="pre">intent(in)</span></code> variable (see <a class="reference internal" href="HostSideCoding.html#mandatoryvariables"><span class="std std-ref">Listing 6.2</span></a> for a mandatory
list of variables that are provided by the CCPP-Framework and/or the host model for this and other purposes).</p></li>
</ul>
</div>
<div class="section" id="coding-rules">
<span id="codingrules"></span><h2>2.4. Coding Rules<a class="headerlink" href="#coding-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Code must comply to modern Fortran standards (Fortran 90/95/2003).</p></li>
<li><p>Labeled <code class="docutils literal notranslate"><span class="pre">end</span></code> statements should be used for modules, subroutines and functions,
for example, <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">scheme_template</span> <span class="pre">→</span> <span class="pre">end</span> <span class="pre">module</span> <span class="pre">scheme_template</span></code>.</p></li>
<li><p>Implicit variable declarations are not allowed. The <code class="docutils literal notranslate"><span class="pre">implicit</span> <span class="pre">none</span></code> statement is mandatory and
is preferable at the module-level so that it applies to all the subroutines in the module.</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">intent(out)</span></code> variables must be set inside the subroutine, including the mandatory
variables <code class="docutils literal notranslate"><span class="pre">errflg</span></code> and <code class="docutils literal notranslate"><span class="pre">errmsg</span></code>.</p></li>
<li><p>Decomposition-dependent host model data inside the module cannot be permanent,
i.e. variables that contain domain-dependent data cannot be kept using the <code class="docutils literal notranslate"><span class="pre">save</span></code> attribute.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">goto</span></code> statements are not alowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">common</span></code> blocks are not allowed.</p></li>
<li><p>Errors are handled by the host model using the two mandatory arguments <code class="docutils literal notranslate"><span class="pre">errmsg</span></code> and
<code class="docutils literal notranslate"><span class="pre">errflg</span></code>. In the event of an error, a meaningful error message should be assigned to <code class="docutils literal notranslate"><span class="pre">errmsg</span></code>
and set <code class="docutils literal notranslate"><span class="pre">errflg</span></code> to a value other than 0, for example:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>write <span class="o">(</span>errmsg, ‘<span class="o">(</span>*<span class="o">(</span>a<span class="o">))</span>’<span class="o">)</span> ‘Logic error in scheme xyz: …’
<span class="nv">errflg</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">return</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Schemes are not allowed to abort/stop the program.</p></li>
<li><p>Schemes are not allowed to perform I/O operations except for reading lookup tables
or other information needed to initialize the scheme, including stdout and stderr.
Diagnostic messages are tolerated, but should be minimal.</p></li>
<li><p>Line lengths of no more than 120 characters are suggested for better readability.</p></li>
</ul>
<p>Additional coding rules are listed under the <em>Coding Standards</em> section of the NOAA NGGPS
Overarching System team document on Code, Data, and Documentation Management for NOAA Environmental
Modeling System (NEMS) Modeling Applications and Suites (available at
<a class="reference external" href="https://docs.google.com/document/u/1/d/1bjnyJpJ7T3XeW3zCnhRLTL5a3m4_3XIAUeThUPWD9Tg/edit#heading=h.97v79689onyd">https://docs.google.com/document/u/1/d/1bjnyJpJ7T3XeW3zCnhRLTL5a3m4_3XIAUeThUPWD9Tg/edit#heading=h.97v79689onyd</a>).</p>
</div>
<div class="section" id="parallel-programming-rules">
<h2>2.5. Parallel Programming Rules<a class="headerlink" href="#parallel-programming-rules" title="Permalink to this headline">¶</a></h2>
<p>Most often shared memory (OpenMP: Open Multi-Processing) and MPI (Message Passing Interface)
communication are done outside the physics in which case the physics looping and arrays already
take into account the sizes of the threaded tasks through their input indices and array
dimensions.  The following rules should be observed when including OpenMP or MPI communication
in a physics scheme:</p>
<ul>
<li><p>Shared-memory (OpenMP) parallelization inside a scheme is allowed with the restriction
that the number of OpenMP threads to use is obtained from the host model as an <code class="docutils literal notranslate"><span class="pre">intent(in)</span></code>
argument in the argument list (<a class="reference internal" href="HostSideCoding.html#mandatoryvariables"><span class="std std-ref">Listing 6.2</span></a>).</p></li>
<li><p>MPI communication is allowed in the <code class="docutils literal notranslate"><span class="pre">_init</span></code> and <code class="docutils literal notranslate"><span class="pre">_finalize</span></code> phase for the purpose
of computing, reading or writing scheme-specific data that is independent of the host
model’s data decomposition. An example is the initial read of a lookup table of aerosol
properties by one or more MPI processes, and its subsequent broadcast to all processes.
Several restrictions apply:</p>
<blockquote>
<div><ul class="simple">
<li><p>The implementation of reading and writing of data must be scalable to perform
efficiently from a few to millions of tasks.</p></li>
<li><p>The MPI communicator must be provided by the host model as an <code class="docutils literal notranslate"><span class="pre">intent(in)</span></code>
argument in the argument list (<a class="reference internal" href="HostSideCoding.html#mandatoryvariables"><span class="std std-ref">Listing 6.2</span></a>).</p></li>
<li><p>The use of MPI_COMM_WORLD is not allowed.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Calls to MPI and OpenMP functions, and the import of the MPI and OpenMP libraries,
must be guarded by C preprocessor directives as illustrated in the following listing.
OpenMP pragmas can be inserted without C preprocessor guards, since they are ignored
by the compiler if the OpenMP compiler flag is omitted.</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifdef MPI</span>
  <span class="k">use </span><span class="n">mpi</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef OPENMP</span>
  <span class="k">use </span><span class="n">omp_lib</span>
<span class="cp">#endif</span>
<span class="p">...</span>
<span class="cp">#ifdef MPI</span>
  <span class="k">call </span><span class="n">MPI_BARRIER</span><span class="p">(</span><span class="n">mpicomm</span><span class="p">,</span> <span class="n">ierr</span><span class="p">)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef OPENMP</span>
  <span class="n">me</span> <span class="o">=</span> <span class="n">OMP_GET_THREAD_NUM</span><span class="p">()</span>
<span class="cp">#else</span>
  <span class="n">me</span> <span class="o">=</span> <span class="mi">0</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For Fortran coarrays, consult with the GMTB helpdesk (<a class="reference external" href="mailto:gmtb-help&#37;&#52;&#48;ucar&#46;edu">gmtb-help<span>&#64;</span>ucar<span>&#46;</span>edu</a>).</p></li>
</ul>
</div>
<div class="section" id="scientific-documentation-rules">
<span id="scidoc"></span><h2>2.6. Scientific Documentation Rules<a class="headerlink" href="#scientific-documentation-rules" title="Permalink to this headline">¶</a></h2>
<p>Technically, scientific documentation is not needed for a parameterization
to work with the CCPP. However, scientific and technical documents are
important for code maintenance and for fostering understanding among stakeholders.
As such, it is required of physics schemes in order to be included in the CCPP. This
section describes the process used for documenting parameterizations in the CCPP.
Doxygen was chosen as a tool for generating human-readable output due to its
built-in functionality with Fortran, its high level of configurability, and its
ability to parse inline comments within the source code. Keeping documentation
with the source itself increases the likelihood that the documentation will be
updated along with the underlying code. Additionally, inline documentation is
amenable to version control.</p>
<p>The purpose of this section is to provide an understanding of how to properly
document a physics scheme using doxygen inline comments in the Fortran code
and metadata information contained in the <code class="docutils literal notranslate"><span class="pre">.meta</span></code> files. It covers what kind of
information should be in the documentation, how to mark up the inline comments
so that doxygen will parse them correctly, where to put various comments within
the code, how to include information from the <code class="docutils literal notranslate"><span class="pre">.meta</span></code> files,
and how to configure and run doxygen to generate HTML
output. For an example of the HTML rendering of the CCPP Scientific Documentation, see
<a class="reference external" href="https://dtcenter.org/GMTB/v3.0/sci_doc">https://dtcenter.org/GMTB/v3.0/sci_doc</a>.
Part of this documentation, namely metadata about subroutine arguments, has
functional significance as part of the CCPP infrastructure. The metadata must be
in a particular format to be parsed by Python scripts that “automatically” generate
a software cap for a given physics scheme. Although the procedure outlined herein
is not unique, following it will provide a level of continuity with previous
documented schemes.</p>
<p>Reviewing the documentation for CCPP parameterizations is a good way of getting
started in writing documentation for a new scheme.</p>
<div class="section" id="doxygen-comments-and-commands">
<h3>2.6.1. Doxygen Comments and Commands<a class="headerlink" href="#doxygen-comments-and-commands" title="Permalink to this headline">¶</a></h3>
<p>All doxygen commands start with a backslash (<code class="docutils literal notranslate"><span class="pre">“\”</span></code>) or an at-sign (<code class="docutils literal notranslate"><span class="pre">“&#64;”</span></code>). The
doxygen inline comment blocks begin with “!&gt;”, and subsequent lines begin with <code class="docutils literal notranslate"><span class="pre">“!!”</span></code>,
which means that regular Fortran comments using <code class="docutils literal notranslate"><span class="pre">“!”</span></code> are not parsed by doxygen.</p>
<p>In the first line of each Fortran file, a brief one-sentence overview of the file purpose
is present using the doxygen command <code class="docutils literal notranslate"><span class="pre">“\\file”</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">!&gt; \file gwdps.f</span>
<span class="go">!! This file is the  parameterization of orographic gravity wave</span>
<span class="go">!! drag and mountain blocking.</span>
</pre></div>
</div>
<p>A parameter definition begins with <code class="docutils literal notranslate"><span class="pre">“!&lt;”</span></code>, where the sign <code class="docutils literal notranslate"><span class="pre">‘&lt;’</span></code> just tells
Doxygen that documentation follows. Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">integer, parameter, public :: NF_VGAS = 10   !&lt; number of gas species</span>
<span class="go">integer, parameter         :: IMXCO2  = 24   !&lt; input CO2 data longitude points</span>
<span class="go">integer, parameter         :: JMXCO2  = 12   !&lt; input CO2 data latitude points</span>
<span class="go">integer, parameter         :: MINYEAR = 1957 !&lt; earlist year 2D CO2 data available</span>
</pre></div>
</div>
</div>
<div class="section" id="doxygen-documentation-style">
<h3>2.6.2. Doxygen Documentation Style<a class="headerlink" href="#doxygen-documentation-style" title="Permalink to this headline">¶</a></h3>
<p>To document a physics suite, a broad array of information should be included
in order to serve both software engineering and scientific purposes. The
documentation style could be divided into four categories:</p>
<ul class="simple">
<li><p>Doxygen Files</p></li>
<li><p>Doxygen Pages (overview page and scheme pages)</p></li>
<li><p>Doxygen Modules</p></li>
<li><p>Bibliography</p></li>
</ul>
<div class="section" id="doxygen-files">
<h4>2.6.2.1. Doxygen files<a class="headerlink" href="#doxygen-files" title="Permalink to this headline">¶</a></h4>
<p>Doxygen provides the <code class="docutils literal notranslate"><span class="pre">“\\file”</span></code> tag as a way to provide documentation on the
Fortran source code file level. That is, in the generated documentation,
one may navigate by source code filenames (if desired) rather than through
a “functional” navigation. The most important documentation organization is
through the “module” concept mentioned below, because the division of a scheme
into multiple source files is often functionally irrelevant. Nevertheless,
using a <code class="docutils literal notranslate"><span class="pre">“\\file”</span></code> tag provides an alternate path to navigate the documentation
and it should be included in every source file. Therefore, it is prudent to
include a small documentation block to describe what code is in each file
using the <code class="docutils literal notranslate"><span class="pre">“\\file”</span></code> tag, e.g.:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!&gt; \file gwdps.f</span>
<span class="c">!! This file is the  parameterization of orographic gravity wave</span>
<span class="c">!! drag and mountain blocking.</span>
</pre></div>
</div>
<p>The brief description for each file is displayed next to the source filename
on the doxygen-generated “File List” page:</p>
<div class="figure align-center">
<img alt="_images/DoxygenFileList.png" src="_images/DoxygenFileList.png" />
</div>
</div>
<div class="section" id="doxygen-overview-page">
<h4>2.6.2.2. Doxygen Overview Page<a class="headerlink" href="#doxygen-overview-page" title="Permalink to this headline">¶</a></h4>
<p>Pages in Doxygen can be used for documentation that is not directly attached
to a source code entity such as file or module. They are external text files
that generate pages with a high-level scientific overview and
typically contain a longer description of a project or suite. You can refer to
any source code entity from within the page.</p>
<p>The GMTB maintains a main page, created by the Doxygen command
<code class="docutils literal notranslate"><span class="pre">“\\mainpage”</span></code>, containing an overall description and background of the CCPP.
Physics developers do not have to edit the file with the mainpage, which has a
user-visible title, but not label:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/**</span>
<span class="go">\mainpage Introduction</span>
<span class="go">...</span>
<span class="go">*/</span>
</pre></div>
</div>
<p>All other pages listed under the main page are created using the Doxygen
tag <code class="docutils literal notranslate"><span class="pre">“\\page”</span></code> described in the next section. In any Doxygen page,
you can refer to any entity of source code by using Doxygen tag <code class="docutils literal notranslate"><span class="pre">“\\ref”</span></code>
or <code class="docutils literal notranslate"><span class="pre">“&#64;ref”</span></code>. Example in <code class="docutils literal notranslate"><span class="pre">GFSv15_suite.txt</span></code>:</p>
<p>The GFS v15 physics suite uses the parameterizations in the following order,
as defined in</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\c FV3_GFS_v15 :</span>
<span class="go"> - \ref fast_sat_adj</span>
<span class="go"> - \ref GFS_RRTMG</span>
<span class="go"> - \ref GFS_SFCLYR</span>
<span class="go"> - \ref GFS_NSST</span>
<span class="go"> - \ref GFS_NOAH</span>
<span class="go"> - \ref GFS_SFCSICE</span>
<span class="go"> - \ref GFS_HEDMF</span>
<span class="go"> - \ref GFS_GWDPS</span>
<span class="go"> - \ref GFS_RAYLEIGH</span>
<span class="go"> - \ref GFS_OZPHYS</span>
<span class="go"> - \ref GFS_H2OPHYS</span>
<span class="go"> - \ref GFS_SAMFdeep</span>
<span class="go"> - \ref GFS_GWDC</span>
<span class="go"> - \ref GFS_SAMFshal</span>
<span class="go"> - \ref GFDL_cloud</span>
<span class="go"> - \ref GFS_CALPRECIPTYPE</span>
<span class="go"> - \ref STOCHY_PHYS</span>
</pre></div>
</div>
<p>The HTML result is <a class="reference external" href="https://dtcenter.org/GMTB/v3.0/sci_doc/GFS_v15_page.html">here</a>.
You can see that the <code class="docutils literal notranslate"><span class="pre">“-”</span></code> signs before <code class="docutils literal notranslate"><span class="pre">“&#64;ref”</span></code> generate a list with bullets.
Doxygen command <code class="docutils literal notranslate"><span class="pre">“\\c”</span></code> displays its argument using a typewriter font.</p>
</div>
<div class="section" id="physics-scheme-pages">
<h4>2.6.2.3. Physics Scheme Pages<a class="headerlink" href="#physics-scheme-pages" title="Permalink to this headline">¶</a></h4>
<p>Each major scheme in CCPP should have its own scheme page containing an
overview of the parameterization.  These pages are not tied to the Fortran
code directly; instead, they are created with a separate text file that starts
with the command <code class="docutils literal notranslate"><span class="pre">“\\page”</span></code>.  Scheme pages are stored in the <code class="docutils literal notranslate"><span class="pre">ccpp-physics/physics/docs/pdftxt</span></code>
directory. Each page has a label (e.g., “GFS_SAMFdeep” in the following example) and a
user-visible title (“GFS Scale-Aware Simplified Arakawa-Schubert (sa-SAS) Deep Convection
Scheme” in the following example).  It is noted that labels must be unique
across the entire doxygen project so that the <code class="docutils literal notranslate"><span class="pre">“\\ref”</span></code> command can be used
to create an unambiguous link to the structuring element. It therefore makes
sense to choose label names that refer to their context.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/**</span>
<span class="go">\page GFS_SAMFdeep GFS Scale-Aware Simplified Arakawa-Schubert (sa-SAS) Deep Convection Scheme</span>
<span class="go">\section des_deep Description</span>
<span class="go"> The scale-aware mass-flux (SAMF) deep convection scheme is an</span>
<span class="go"> updated version of the previous Simplified Arakawa-Schubert (SAS) scheme</span>
<span class="go"> with scale and aerosol awareness and parameterizes the effect of deep</span>
<span class="go"> convection on the environment (represented by the model state variables)</span>
<span class="go"> in the following way …</span>

<span class="go">\section intra_deep  Intraphysics Communication</span>
<span class="go">\ref arg_table_samfdeepcnv_run</span>

<span class="go">\section gen_al_deep General Algorithm</span>
<span class="go">\ref general_samfdeep</span>

<span class="go">*/</span>
</pre></div>
</div>
<p>The physics scheme page will often describe the following:</p>
<ol class="arabic">
<li><p>Description section (<code class="docutils literal notranslate"><span class="pre">“\\section”</span></code>), which usually includes:</p>
<blockquote>
<div><ul>
<li><p>Scientific origin and scheme history (<code class="docutils literal notranslate"><span class="pre">“\\cite”</span></code>)</p></li>
<li><p>Key features and differentiating points</p></li>
<li><p>A picture is worth a thousand words (<code class="docutils literal notranslate"><span class="pre">“\\image”</span></code>)</p>
<p>To insert images into doxygen documentation, you’ll need to have your
images ready in a graphical format, such as Portable Network Graphic (png), depending
on which type of doxygen output you are planning to generate. For example, for LaTeX
output, the images must be provided in Encapsulated PostScript (.eps), while for
HTML output the images can be provided in the png format. Images are stored in
<code class="docutils literal notranslate"><span class="pre">ccpp-physics/physics/docs/img</span></code> directory.  Example of including an image for
HTML output:</p>
</li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\image  html  gfdl_cloud_mp_diagram.png &quot;Figure 1: GFDL MP at a glance (Courtesy of S.J. Lin at GFDL)&quot; width=10cm</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p>Intraphysics Communication Section (<code class="docutils literal notranslate"><span class="pre">“\\section”</span></code>)</p>
<blockquote>
<div><p>The argument table for CCPP entry point subroutine <code class="docutils literal notranslate"><span class="pre">{scheme}_run</span></code> will be in this section.
It is created by inserting a reference link (<code class="docutils literal notranslate"><span class="pre">“\\ref”</span></code>) to the table in the Fortran code
for the scheme.</p>
</div></blockquote>
</li>
<li><p>General Algorithm Section (<code class="docutils literal notranslate"><span class="pre">“\\section”</span></code>)</p>
<p>The general description of the algorithn will be in this section.  It is created by inserting
a reference link (<code class="docutils literal notranslate"><span class="pre">“\\ref”</span></code>) in the Fortran code for the scheme.</p>
</li>
</ol>
<p>The symbols <code class="docutils literal notranslate"><span class="pre">“/\*\*”</span></code> and <code class="docutils literal notranslate"><span class="pre">“*/”</span></code> need to be the first and last entries of the page.
See an example of GFS Scale-Aware Simplified Arakawa-Schubert (sa-SAS) Deep Convection Scheme
page in the previous page.</p>
<p>Note that separate pages can also be created to document something that is not a scheme.
For example, a page could be created to describe a suite, or how a set of schemes work
together.  Doxygen automatically generates an index of all pages that is visible at the
top-level of the documentation, thus allowing the user to quickly find, and navigate
between, the available pages.</p>
</div>
<div class="section" id="doxygen-modules">
<span id="doxygenmodules"></span><h4>2.6.2.4. Doxygen Modules<a class="headerlink" href="#doxygen-modules" title="Permalink to this headline">¶</a></h4>
<p>The CCPP documentation is based on doxygen modules (note this is not the same as
Fortran modules). Each doxygen module pertains to a particular parameterization and
is used to aggregate all code related to that scheme, even when it is in separate
files. Since doxygen cannot know which files or subroutines belong to each physics
scheme, each relevant subroutine must be tagged with the module name. This allows
doxygen to understand your modularized design and generate the documentation accordingly.
<a class="reference external" href="https://dtcenter.org/GMTB/v3.0/sci_doc/modules.html">Here</a>
is a list of module list defined in CCPP.</p>
<p>A module is defined using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">!&gt;\defgroup group_name group_title</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">group_name</span></code> is the identifier and the <code class="docutils literal notranslate"><span class="pre">group_title</span></code> is what the
group is referred to in the output. In the example below, we’re defining a parent
module “GFS radsw Main”:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!&gt; \defgroup module_radsw_main GFS radsw Main</span>
<span class="c">!! This module includes NCEP&#39;s modifications of the RRTMG-SW radiation</span>
<span class="c">!! code from AER.</span>
<span class="c">!! ...</span>
<span class="c">!!\author   Eli J. Mlawer, emlawer@aer.com</span>
<span class="c">!!\author   Jennifer S. Delamere, jdelamer@aer.com</span>
<span class="c">!!\author   Michael J. Iacono, miacono@aer.com</span>
<span class="c">!!\author   Shepard A. Clough</span>
<span class="c">!!\version NCEP SW v5.1  Nov 2012 -RRTMG-SW v3.8</span>
<span class="c">!!</span>
</pre></div>
</div>
<p>One or more contact persons should be listed with author. If you make
significant modifications or additions to a file, consider adding an
author and a version line for yourself. The above example generates
the Author, Version sections on the page. All email addresses are converted
to mailto hypertext links automatically:</p>
<dl>
<dt><strong>Author</strong></dt><dd><p>Eli J. Mlawer, <a class="reference external" href="mailto:emlawer&#37;&#52;&#48;aer&#46;com">emlawer<span>&#64;</span>aer<span>&#46;</span>com</a></p>
<p>Jennifer S. Delamere, <a class="reference external" href="mailto:jdelamer&#37;&#52;&#48;aer&#46;com">jdelamer<span>&#64;</span>aer<span>&#46;</span>com</a></p>
<p>Michael J. Iacono, <a class="reference external" href="mailto:miacono&#37;&#52;&#48;aer&#46;com">miacono<span>&#64;</span>aer<span>&#46;</span>com</a></p>
<p>Shepard A. Clough</p>
</dd>
<dt><strong>Version</strong></dt><dd><p>NCEP SW v5.1  Nov 2012 -RRTMG-SW v3.8</p>
</dd>
</dl>
<p>In order to include other pieces of code in the same module, the following
tag must be used at the beginning of a comment block:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\ingroup group_name</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!&gt;\ingroup module_radsw_main</span>
<span class="c">!&gt; The subroutine computes the optical depth in band 16:  2600-3250</span>
<span class="c">!! cm-1 (low - h2o,ch4; high - ch4)</span>
<span class="c">!-----------------------------------</span>
      <span class="k">subroutine </span><span class="n">taumol16</span>
<span class="c">!...................................</span>
</pre></div>
</div>
<p>In the same comment block where a group is defined for a physics scheme,
there should be some additional documentation. First, using the <code class="docutils literal notranslate"><span class="pre">“\\brief”</span></code>
command, a brief one or two sentence description of the scheme should be
included. After a blank doxygen comment line, begin the scheme origin
and history using <code class="docutils literal notranslate"><span class="pre">“\\version”</span></code>, <code class="docutils literal notranslate"><span class="pre">“\\author”</span></code> and <code class="docutils literal notranslate"><span class="pre">“\\date”</span></code>.</p>
<p>Each subroutine that is a CCPP entry point to a parameterization, should
be further documented with a documentation block immediately preceding
its definition in the source. The documentation block should include at
least the following components:</p>
<ul class="simple">
<li><p>A brief one- or two-sentence description with the <code class="docutils literal notranslate"><span class="pre">&quot;\\brief&quot;</span></code> tag</p></li>
<li><p>A more detailed one or two paragraph description of the function of the subroutine</p></li>
<li><p>A comment indicating that metadata information about the subroutine arguments follows
(in this example, the subroutine is called <code class="docutils literal notranslate"><span class="pre">SUBROUTINE_NAME</span></code>.  Note that this line is
also functional documentation used during the CCPP <em>prebuild</em> step.</p></li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!! \section arg_table_SUBROUTINE_NAME Argument Table</span>
</pre></div>
</div>
<ul>
<li><p>For subroutines that are non-empty, a second comment indicating that a table
of metadata to describe the subroutine arguments will be included from a separate file
in HTML format (in this case, file <code class="docutils literal notranslate"><span class="pre">SUBROUTINE_NAME.html</span></code>). Note that empty
subroutines, as is sometimes the case for <code class="docutils literal notranslate"><span class="pre">init</span></code> and <code class="docutils literal notranslate"><span class="pre">finalize</span></code> subroutines,
do not require the inclusion of a file with metadata information.
Please refer to the section below for information on how to generate the HTML files
with metadata information from the <code class="docutils literal notranslate"><span class="pre">.meta</span></code> files.</p>
<p>The argument table should be immediately followed by a blank doxygen line “!!”.</p>
</li>
</ul>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!! \htmlinclude SUBROUTINE_NAME.html</span>
<span class="c">!!</span>
</pre></div>
</div>
<ul class="simple">
<li><p>A section called “General Algorithm” with a bullet or numbered list of
the tasks completed in the subroutine algorithm</p></li>
<li><p>At the end of initial subroutine documentation block, a “Detailed algorithm”
section is started and the entirety of the code  is encompassed with the
<code class="docutils literal notranslate"><span class="pre">“!&gt;</span> <span class="pre">&#64;{”</span></code> and <code class="docutils literal notranslate"><span class="pre">“!&gt;</span> <span class="pre">&#64;}”</span></code> delimiters. This way, any comments explaining detailed
aspects of the code are automatically included in the “Detailed Algorithm” section.</p></li>
</ul>
<p>For subroutines that are not a CCPP entry point to a scheme, no inclusion of
metadata information is required.
But it is suggested that following <code class="docutils literal notranslate"><span class="pre">“\\ingroup”</span></code> and <code class="docutils literal notranslate"><span class="pre">“\\brief”</span></code>, use
<code class="docutils literal notranslate"><span class="pre">“\\param”</span></code> to define each argument with local name, a short description and unit, i.e.,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">!&gt;  \ingroup HEDMF</span>
<span class="go">!!  \brief This subroutine is used for calculating the mass flux and updraft properties.</span>
<span class="go">!!  ...</span>
<span class="go">!!</span>
<span class="go">!!  \param[in] im      integer, number of used points</span>
<span class="go">!!  \param[in] ix      integer, horizontal dimension</span>
<span class="go">!!  \param[in] km      integer, vertical layer dimension</span>
<span class="go">!!  \param[in] ntrac   integer, number of tracers</span>
<span class="go">!!  \param[in] delt    real, physics time step</span>
<span class="go">!!  ...</span>
<span class="go">!!  \section general_mfpbl mfpbl General Algorithm</span>
<span class="go">!!  -# Determine an updraft parcel&#39;s entrainment rate, buoyancy, and vertical velocity.</span>
<span class="go">!!  -# Recalculate the PBL height ...</span>
<span class="go">!!  -# Calculate the mass flux profile and updraft properties.</span>
<span class="go">!!  \section detailed_mfpbl mfpbl Detailed Algorithm</span>
<span class="go">!&gt;  @{</span>
<span class="go">       subroutine mfpbl(im,ix,km,ntrac,delt,cnvflg,                       &amp;</span>
<span class="go">       &amp;   zl,zm,thvx,q1,t1,u1,v1,hpbl,kpbl,                              &amp;</span>
<span class="go">       &amp;   sflx,ustar,wstar,xmf,tcko,qcko,ucko,vcko)</span>
<span class="go">         …</span>
<span class="go">       end subroutine mfpbl</span>
<span class="go">!&gt;  @}</span>
</pre></div>
</div>
</div>
<div class="section" id="bibliography">
<h4>2.6.2.5. Bibliography<a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h4>
<p>Doxygen can handle in-line paper citations and link to an automatically created
bibliography page. The bibliographic data for any papers that are cited need to
be put in BibTeX format and saved in a .bib file. The bib file for CCPP is
included in the repository, and the doxygen configuration option
<code class="docutils literal notranslate"><span class="pre">cite_bib_files</span></code> points to the included file.</p>
<p>Citations are invoked with the following tag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\cite bibtex_key_to_paper</span>
</pre></div>
</div>
</div>
<div class="section" id="equations">
<h4>2.6.2.6. Equations<a class="headerlink" href="#equations" title="Permalink to this headline">¶</a></h4>
<p>See <a class="reference external" href="http://www.doxygen.nl/manual/formulas.html">link</a> for information
about including equations. For the best rendering, the following option
should be set in the Doxygen configuration file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">USE_MATHJAX            = YES</span>
<span class="go">MATHJAX_RELPATH        =  https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2</span>
</pre></div>
</div>
<p>There are many great online resources to use the LaTeX math typesetting used in doxygen.</p>
</div>
</div>
<div class="section" id="doxygen-configuration">
<h3>2.6.3. Doxygen Configuration<a class="headerlink" href="#doxygen-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="configuration-file">
<h4>2.6.3.1. Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h4>
<p>The CCPP is distributed with a doxygen configuration file
<code class="docutils literal notranslate"><span class="pre">./ccpp/physics/physics/docs/ccpp_doxyfile</span></code>, such that you don’t need to
create an additional one.</p>
<p>If starting from scratch, you can generate a default configuration file using the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">doxygen -g &lt;config_file&gt;</span>
</pre></div>
</div>
<p>Then you can edit the default configuration file to serve your needs. The default
file includes plenty of comments to explain all the options. Some of the important
things you need to pay attention to are:</p>
<blockquote>
<div><ul class="simple">
<li><p>The name of your project:</p></li>
</ul>
</div></blockquote>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">PROJECT_NAME = ‘your project name’</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The input files (relative to the directory where you run doxygen):</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INPUT =</span>
</pre></div>
</div>
<p>The following lines should be listed here: the doxygen mainpage text file, the
scheme pages, and the source codes to be contained in the output. The order in
which schemes are listed determines the order in the HTML result.</p>
<ul class="simple">
<li><p>The directory where to put the documentation (if you leave it empty, then the
documentation will be created in the directory where you run doxygen):</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">OUTPUT_DIRECTORY = doc</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The type of documentation you want to generate (HTML, LaTeX and/or something else):</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">GENERATE_HTML = YES</span>
</pre></div>
</div>
<p>If HTML is chosen, the following tells doxygen where to put the documentation
relative to the OUTPUT_DIRECTORY:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTML_OUTPUT = html</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTML_FILE_EXTENSION = .html</span>
</pre></div>
</div>
<p>determines the extension of the files.</p>
<ul class="simple">
<li><p>Other important settings for a Fortran code project are:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">OPTIMIZE_FOR_FORTRAN        =    YES</span>
<span class="go">EXTENSION_MAPPING           = .f=FortranFree        \</span>
<span class="go">                              .F90=FortranFree      \</span>
<span class="go">                              .f90=FortranFree</span>
<span class="go">LAYOUT_FILE                 = ccpp_dox_layout.xml</span>
<span class="go">CITE_BIB_FILES              = library.bib</span>
<span class="go">FILE_PATTERN                = *.f     \</span>
<span class="go">                              *.F90   \</span>
<span class="go">                              *.f90   \</span>
<span class="go">                              *.txt</span>
<span class="go">GENERATE_TREEVIEW           = yes</span>
</pre></div>
</div>
<p>Doxygen files for layout (<code class="docutils literal notranslate"><span class="pre">ccpp_dox_layout.xml</span></code>), a HTML style (<code class="docutils literal notranslate"><span class="pre">ccpp_dox_extra_style.css</span></code>),
and bibliography (<code class="docutils literal notranslate"><span class="pre">library.bib</span></code>) are provided with the CCPP. Additionally, a
configuration file is supplied, with the following variables modified from the default:</p>
</div>
<div class="section" id="diagrams">
<h4>2.6.3.2. Diagrams<a class="headerlink" href="#diagrams" title="Permalink to this headline">¶</a></h4>
<p>On its own, Doxygen is capable of creating simple text-based class diagrams.
With the help of the additional software GraphViz, Doxygen can generate
additional graphics-based diagrams, optionally in Unified Modeling Language (UML) style. To enable
GraphViz support, the configure file parameter <code class="docutils literal notranslate"><span class="pre">“HAVE_DOT”</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">“YES”</span></code>.</p>
<p>You can use doxygen to create call graphs of all the physics schemes in CCPP.
In order to create the call graphs you will need to set the following options in
your doxygen config file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HAVE_DOT             = YES</span>
<span class="go">EXTRACT_ALL          = YES</span>
<span class="go">EXTRACT_PRIVATE      = YES</span>
<span class="go">EXTRACT_STATIC       = YES</span>
<span class="go">CALL_GRAPH           = YES</span>
</pre></div>
</div>
<p>Note that will need the DOT (graph description language) utility to be installed
when starting doxygen. Doxygen will call it to generate the graphs. On most
distributions the DOT utility can be found in the GraphViz package. Here is
the call graph for subroutine <em>mpdrv</em> in GFDL cloud microphysics generated by doxygen:</p>
<div class="figure align-center">
<img alt="_images/DoxygenCallGraph.png" src="_images/DoxygenCallGraph.png" />
</div>
</div>
</div>
<div class="section" id="including-metadata-information">
<h3>2.6.4. Including metadata information<a class="headerlink" href="#including-metadata-information" title="Permalink to this headline">¶</a></h3>
<p>As described above, a table of metadata information should be included in the documentation
for every CCPP entrypoint scheme. Before doxygen is run, the table for each scheme must be manually
created in separate
files in HTML format, with one file per non-empty scheme. The HTML files are included in the
Fortran files using the doygen markup below.</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!! \htmlinclude SUBROUTINE_NAME.html</span>
<span class="c">!!</span>
</pre></div>
</div>
<p>The tables should be created using a Python script distrbuted
with the CCPP Framework, <code class="docutils literal notranslate"><span class="pre">ccpp/framework/scripts/metadata2html.py</span></code>. The syntax for running this
script from the directory above where the CCPP is installed is:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">ccpp</span><span class="o">/</span><span class="n">framework</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">metadata2html</span><span class="p">.</span><span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">ccpp</span><span class="o">/</span><span class="n">physics</span><span class="o">/</span><span class="n">physics</span><span class="o">/</span><span class="k">file</span><span class="p">.</span><span class="n">meta</span> <span class="o">-</span><span class="n">o</span> <span class="n">ccpp</span><span class="o">/</span><span class="n">physics</span><span class="o">/</span><span class="n">physics</span><span class="o">/</span><span class="n">docs</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">-m</span></code> is used to specify a file with metadata information and <code class="docutils literal notranslate"><span class="pre">-o</span></code> is used to specify
the directory for output. Note that a single input file (<code class="docutils literal notranslate"><span class="pre">.meta</span></code>) may have more than one CCPP entrypoint
scheme, and therefore can be used to generate more than one HTML file.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">.meta</span></code> files are supplied with the CCPP Physics, and that there is a <code class="docutils literal notranslate"><span class="pre">.meta</span></code> file for
each Fortran file that contains one or more CCPP entrypoint schemes. The <code class="docutils literal notranslate"><span class="pre">.meta</span></code> files are located in the same
directory as the scheme Fortran files (<code class="docutils literal notranslate"><span class="pre">ccpp/physics/physics</span></code>).</p>
<p>To generate a complete Scientific Documentation, documentation, script <code class="docutils literal notranslate"><span class="pre">/ccpp/framework/scripts/metadata2html.py</span></code>
must be run separately for each <code class="docutils literal notranslate"><span class="pre">.meta</span></code> file available in ccpp/physics/physics.</p>
</div>
<div class="section" id="using-doxygen">
<h3>2.6.5. Using Doxygen<a class="headerlink" href="#using-doxygen" title="Permalink to this headline">¶</a></h3>
<p>In order to generate the doxygen-based documentation, one needs to follow five steps:</p>
<ol class="arabic">
<li><p>Have the doxygen executable installed on your computer. For example, for the NOAA
machine Theia, add the following line into <code class="docutils literal notranslate"><span class="pre">.cshrc</span></code> file in your home directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">alias</span> <span class="pre">doxygen</span> <span class="pre">/scratch4/BMC/gmtb/doxygen-1.8.10/bin/doxygen</span></code></p>
<blockquote>
<div><p>Source your <code class="docutils literal notranslate"><span class="pre">.cshrc</span></code> file.</p>
</div></blockquote>
</li>
<li><p>Document your code, including doxygen main page, scheme pages and inline
comments within source code as described above.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">metadata2html.py</span></code> to create files in HTML format containing metadata
information for each CCPP entrypoint scheme.</p></li>
<li><p>Prepare a Bibliography file in BibTex format for papers referred to in the physics suites.</p></li>
<li><p>Create or edit a doxygen configuration file to control what doxygen pages, source
files and bibliography file get parsed, how the source files get parsed, and to
customize the output.</p></li>
<li><p>Run doxygen from directory <code class="docutils literal notranslate"><span class="pre">ccpp/physics/physics/docs</span></code> using the command line
to specify the doxygen configuration file as an argument:</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$doxygen</span> <span class="pre">$PATH_TO_CONFIG_FILE/&lt;config_file&gt;</span></code></p>
<blockquote>
<div><p>Running this command may generate warnings or errors that need to be fixed
in order to produce proper output. The location and type of output
(HTML, LaTeX, etc.) are specified in the configuration file.
The generated HTML documentation can be viewed by pointing an HTML
browser to the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file in the <code class="docutils literal notranslate"><span class="pre">./docs/doc/html/</span></code> directory.</p>
</div></blockquote>
</div></blockquote>
<p>For precise instructions on creating the scientific documentation, contact the GMTB
helpdesk at <a class="reference external" href="mailto:gmtb-help&#37;&#52;&#48;ucar&#46;edu">gmtb-help<span>&#64;</span>ucar<span>&#46;</span>edu</a>.</p>
<p id="bibtex-bibliography-CompliantPhysicsParams-0"></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. CCPP-Compliant Physics Parameterizations</a><ul>
<li><a class="reference internal" href="#general-rules">2.1. General Rules</a></li>
<li><a class="reference internal" href="#metadata-rules">2.2. Metadata Rules</a></li>
<li><a class="reference internal" href="#input-output-variable-argument-rules">2.3. Input/output Variable (argument) Rules</a></li>
<li><a class="reference internal" href="#coding-rules">2.4. Coding Rules</a></li>
<li><a class="reference internal" href="#parallel-programming-rules">2.5. Parallel Programming Rules</a></li>
<li><a class="reference internal" href="#scientific-documentation-rules">2.6. Scientific Documentation Rules</a><ul>
<li><a class="reference internal" href="#doxygen-comments-and-commands">2.6.1. Doxygen Comments and Commands</a></li>
<li><a class="reference internal" href="#doxygen-documentation-style">2.6.2. Doxygen Documentation Style</a><ul>
<li><a class="reference internal" href="#doxygen-files">2.6.2.1. Doxygen files</a></li>
<li><a class="reference internal" href="#doxygen-overview-page">2.6.2.2. Doxygen Overview Page</a></li>
<li><a class="reference internal" href="#physics-scheme-pages">2.6.2.3. Physics Scheme Pages</a></li>
<li><a class="reference internal" href="#doxygen-modules">2.6.2.4. Doxygen Modules</a></li>
<li><a class="reference internal" href="#bibliography">2.6.2.5. Bibliography</a></li>
<li><a class="reference internal" href="#equations">2.6.2.6. Equations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#doxygen-configuration">2.6.3. Doxygen Configuration</a><ul>
<li><a class="reference internal" href="#configuration-file">2.6.3.1. Configuration File</a></li>
<li><a class="reference internal" href="#diagrams">2.6.3.2. Diagrams</a></li>
</ul>
</li>
<li><a class="reference internal" href="#including-metadata-information">2.6.4. Including metadata information</a></li>
<li><a class="reference internal" href="#using-doxygen">2.6.5. Using Doxygen</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Overview.html"
                        title="previous chapter">1. CCPP Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ConfigBuildOptions.html"
                        title="next chapter">3. CCPP Configuration and Build Options</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/CompliantPhysicsParams.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ConfigBuildOptions.html" title="3. CCPP Configuration and Build Options"
             >next</a> |</li>
        <li class="right" >
          <a href="Overview.html" title="1. CCPP Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPP Technical  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>